import{W as y,j as e,a as _}from"./app-4edf48e5.js";import{P as B,B as h,T as m}from"./PanelLayout-f2722d4d.js";import{G as a}from"./Grid-7a3a83b6.js";import{C as u,a as x}from"./CardContent-f1bdd9bb.js";import{F as p,S as j}from"./Switch-3b9ccd2c.js";import{T as g}from"./TextField-552e66ea.js";import{M as f}from"./MenuItem-b79354fa.js";import{B as S}from"./Button-287e2751.js";import{C as L}from"./CircularProgress-210c747e.js";import"./createSvgIcon-5bc31cb8.js";import"./index-17fa150b.js";import"./Dropdown-4c3aabf3.js";import"./transition-92123e1c.js";import"./Stack-01e86631.js";import"./SwitchBase-2ee5bbf3.js";const M=({loading:i,children:l,...t})=>e.jsx(S,{...t,disabled:i,startIcon:i&&e.jsx(L,{size:20}),children:l}),H=({auth:i,societe:l,configuration:t,options:o})=>{const{data:r,setData:d,put:b,processing:v,errors:O}=y({modules:t.modules||{},notifications:t.notifications||{},security:t.security||{},payment_methods:t.payment_methods||{},general:t.general||{}}),C=s=>{s.preventDefault(),b(route("superAdmin.societe.configuration.update",{societe:l.id}))};return e.jsxs(B,{user:i.user,auth:i,active:"societeConfiguration",children:[e.jsx(_,{title:`Configuration - ${l.nom}`}),e.jsxs(h,{sx:{p:3},children:[e.jsxs(m,{variant:"h4",component:"h1",sx:{mb:3},children:["Configuration de ",l.nom]}),e.jsxs("form",{onSubmit:C,children:[e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(u,{children:e.jsxs(x,{children:[e.jsx(m,{variant:"h6",sx:{mb:2},children:"Modules"}),Object.entries(o.modules_disponibles).map(([s,n])=>e.jsx(p,{control:e.jsx(j,{checked:r.modules[s]||!1,onChange:c=>d("modules",{...r.modules,[s]:c.target.checked})}),label:n},s))]})})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(u,{children:e.jsxs(x,{children:[e.jsx(m,{variant:"h6",sx:{mb:2},children:"Méthodes de paiement"}),Object.entries(o.methodes_paiement_disponibles).map(([s,n])=>e.jsx(p,{control:e.jsx(j,{checked:r.payment_methods[s]||!1,onChange:c=>d("payment_methods",{...r.payment_methods,[s]:c.target.checked})}),label:n},s))]})})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(u,{children:e.jsxs(x,{children:[e.jsx(m,{variant:"h6",sx:{mb:2},children:"Paramètres généraux"}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(g,{select:!0,fullWidth:!0,label:"Langue par défaut",value:r.general.default_language||"",onChange:s=>d("general",{...r.general,default_language:s.target.value}),children:Object.entries(o.langues_disponibles).map(([s,n])=>e.jsx(f,{value:s,children:n},s))})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(g,{select:!0,fullWidth:!0,label:"Devise",value:r.general.currency||"",onChange:s=>d("general",{...r.general,currency:s.target.value}),children:Object.entries(o.devises_disponibles).map(([s,n])=>e.jsx(f,{value:s,children:n},s))})})]})]})})})]}),e.jsx(h,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:e.jsx(M,{loading:v,variant:"contained",color:"primary",type:"submit",children:"Enregistrer les modifications"})})]})]})]})};export{H as default};
