import{W as y,j as e,a as _}from"./app-80aef6d5.js";import{P as B,B as h,T as m}from"./PanelLayout-a81f80b5.js";import{G as a}from"./Grid-f4fe8f5e.js";import{C as u,a as x}from"./CardContent-c6d9d8f3.js";import{F as p,S as j}from"./Switch-f95e3c95.js";import{T as g}from"./TextField-f4478316.js";import{M as f}from"./MenuItem-9b67b98a.js";import{B as S}from"./Button-1a27d212.js";import{C as L}from"./CircularProgress-45c1cca5.js";import"./createSvgIcon-f9f11e70.js";import"./index-bfd76f8c.js";import"./Dropdown-7e91de2b.js";import"./transition-c702c485.js";import"./Stack-748aea93.js";import"./SwitchBase-5ee4a60b.js";const M=({loading:i,children:l,...t})=>e.jsx(S,{...t,disabled:i,startIcon:i&&e.jsx(L,{size:20}),children:l}),H=({auth:i,societe:l,configuration:t,options:o})=>{const{data:r,setData:d,put:b,processing:v,errors:O}=y({modules:t.modules||{},notifications:t.notifications||{},security:t.security||{},payment_methods:t.payment_methods||{},general:t.general||{}}),C=s=>{s.preventDefault(),b(route("superAdmin.societe.configuration.update",{societe:l.id}))};return e.jsxs(B,{user:i.user,auth:i,active:"societeConfiguration",children:[e.jsx(_,{title:`Configuration - ${l.nom}`}),e.jsxs(h,{sx:{p:3},children:[e.jsxs(m,{variant:"h4",component:"h1",sx:{mb:3},children:["Configuration de ",l.nom]}),e.jsxs("form",{onSubmit:C,children:[e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(u,{children:e.jsxs(x,{children:[e.jsx(m,{variant:"h6",sx:{mb:2},children:"Modules"}),Object.entries(o.modules_disponibles).map(([s,n])=>e.jsx(p,{control:e.jsx(j,{checked:r.modules[s]||!1,onChange:c=>d("modules",{...r.modules,[s]:c.target.checked})}),label:n},s))]})})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(u,{children:e.jsxs(x,{children:[e.jsx(m,{variant:"h6",sx:{mb:2},children:"Méthodes de paiement"}),Object.entries(o.methodes_paiement_disponibles).map(([s,n])=>e.jsx(p,{control:e.jsx(j,{checked:r.payment_methods[s]||!1,onChange:c=>d("payment_methods",{...r.payment_methods,[s]:c.target.checked})}),label:n},s))]})})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(u,{children:e.jsxs(x,{children:[e.jsx(m,{variant:"h6",sx:{mb:2},children:"Paramètres généraux"}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(g,{select:!0,fullWidth:!0,label:"Langue par défaut",value:r.general.default_language||"",onChange:s=>d("general",{...r.general,default_language:s.target.value}),children:Object.entries(o.langues_disponibles).map(([s,n])=>e.jsx(f,{value:s,children:n},s))})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(g,{select:!0,fullWidth:!0,label:"Devise",value:r.general.currency||"",onChange:s=>d("general",{...r.general,currency:s.target.value}),children:Object.entries(o.devises_disponibles).map(([s,n])=>e.jsx(f,{value:s,children:n},s))})})]})]})})})]}),e.jsx(h,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:e.jsx(M,{loading:v,variant:"contained",color:"primary",type:"submit",children:"Enregistrer les modifications"})})]})]})]})};export{H as default};
