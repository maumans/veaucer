import{W as k,r as N,j as e,y}from"./app-80aef6d5.js";import{I as n}from"./InputError-be802d9f.js";import{P as V}from"./PanelLayout-a81f80b5.js";/* empty css            */import p from"./NumberFormatCustomUtils-cfcd62a8.js";import{B as C}from"./Button-1a27d212.js";import{A as P}from"./ArrowBack-3e4617e1.js";import{m as z}from"./motion-d7b847b4.js";import{T as o,a as I}from"./TextField-f4478316.js";import{A as x}from"./Autocomplete-6624bd2e.js";import"./createSvgIcon-f9f11e70.js";import"./index-bfd76f8c.js";import"./Dropdown-7e91de2b.js";import"./transition-c702c485.js";import"./Popper-3a932d0a.js";import"./Chip-4667134d.js";function ee({auth:c,typeProduits:h,typeProduitAchat:m,typeProduitVente:u,categories:w,fournisseurs:E,devises:G,uniteMesures:O,errors:i,success:T,error:S,produit:a}){var f,j,b,v;const{data:s,setData:r,post:q,processing:W}=k({id:a.id,nom:a.nom,stockGlobal:a.stockGlobal,stockCritique:a.stockCritique,typeProduitAchat:a.type_produit_achat,prixAchat:a.prixAchat,quantiteAchat:a.quantiteAchat,typeProduitVente:a.type_produit_vente,prixVente:a.prixVente,quantiteVente:a.quantiteVente,categorie:a.categorie,fournisseur:a.fournisseur_principal,uniteMesure:a.unite_mesure,devise:a.devise,description:a.description});N.useEffect(()=>{(m==null?void 0:m.nom)==="unité"&&r("quantiteAchat",1)},[m]),N.useEffect(()=>{(u==null?void 0:u.nom)==="unité"&&r("quantiteVente",1)},[u]);const d=t=>{t.target.type==="checkbox"?r(t.target.name,t.target.checked):r(t.target.name,t.target.value)},g=t=>{r(t.target.name,formatNumber(t.target.value))};function A(t){t.preventDefault(),q(route("admin.produit.store",c.user.id),{preserveScroll:!0})}return e.jsx(V,{auth:c,active:"stock",sousActive:"produit",breadcrumbs:[{text:"Société",href:route("admin.produit.index",c.user.id),active:!1},{text:"Modification",href:route("admin.produit.edit",[c.user.id,a.id]),active:!0}],children:e.jsx("div",{children:e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"p-4 bg-white rounded mb-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"bg-black w-fit p-2 rounded text-xl font-bold text-white",children:e.jsx("h2",{children:"Modification du produit"})}),e.jsx(C,{variant:"outlined",startIcon:e.jsx(P,{}),onClick:()=>y.get(route("admin.produit.index",c.user.id)),children:"Retour à la liste"})]})}),e.jsx(z.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,type:"spring"},style:{width:"100%"},children:e.jsxs("form",{onSubmit:A,className:"w-full space-y-5 gap-5 rounded bg-white p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 border p-3 rounded",children:[e.jsx("div",{className:"md:col-span-2 text-orange-500 font-bold",children:"Infos de base"}),e.jsxs("div",{children:[e.jsx(o,{value:s.nom,autoFocus:!0,id:"nom",name:"nom",label:"Nom",className:"bg-white",fullWidth:!0,onChange:d,size:"small"}),e.jsx(n,{message:i.nom,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(x,{value:s.categorie,className:"w-full",onChange:(t,l)=>r("categorie",l),disablePortal:!0,options:w,getOptionLabel:t=>t.libelle,isOptionEqualToValue:(t,l)=>t.id===l.id,renderInput:t=>e.jsx(o,{fullWidth:!0,...t,placeholder:"Categorie de produit",label:t.libelle,size:"small"})}),e.jsx(n,{message:i["data.categorie"]})]}),e.jsxs("div",{className:"md:col-span-2 mt-8",children:[e.jsx(I,{value:s.description,className:"w-full",name:"description",placeholder:"Description",style:{height:100},onChange:d,autoComplete:"description",size:"small"}),e.jsx(n,{message:i["data.description"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 border p-3 rounded",children:[e.jsx("div",{className:"md:col-span-2 font-bold text-orange-500",children:"Options d'achat"}),e.jsxs("div",{children:[e.jsx(x,{value:s.typeProduitAchat,className:"w-full",onChange:(t,l)=>r("typeProduitAchat",l),disablePortal:!0,options:h,getOptionLabel:t=>t.nom,isOptionEqualToValue:(t,l)=>t.id===l.id,renderInput:t=>e.jsx(o,{fullWidth:!0,...t,placeholder:"Type de produit",label:t.nom,size:"small"})}),e.jsx(n,{message:i["data.typeProduitAchat"]})]}),((f=s.typeProduitAchat)==null?void 0:f.nom)==="ensemble"?e.jsxs("div",{children:[e.jsx(o,{value:s.quantiteAchat,id:"quantiteAchat",name:"quantiteAchat",label:"Quantité",className:"bg-white",fullWidth:!0,onChange:g,size:"small"}),e.jsx(n,{message:i.quantiteAchat,className:"mt-2"})]}):null,e.jsxs("div",{className:"w-full",children:[e.jsx(o,{InputProps:{inputComponent:p,endAdornment:"GNF",inputProps:{value:s.prixAchat,max:1e11,min:-1e12,name:"prixAchat"}},className:"w-full",label:`Prix d'achat ${((j=s.typeProduitAchat)==null?void 0:j.nom)==="unité"?"unitaire":"total"}`,name:"prixAchat",onChange:d,size:"small"}),e.jsx(n,{message:i.prixAchat})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 border p-3 rounded",children:[e.jsx("div",{className:"md:col-span-2 font-bold text-orange-500",children:"Options de vente"}),e.jsxs("div",{children:[e.jsx(x,{value:s.typeProduitVente,className:"w-full",onChange:(t,l)=>r("typeProduitVente",l),disablePortal:!0,options:h,getOptionLabel:t=>t.nom,isOptionEqualToValue:(t,l)=>t.id===l.id,renderInput:t=>e.jsx(o,{fullWidth:!0,...t,placeholder:"Type de produit",label:t.nom,size:"small"})}),e.jsx(n,{message:i["data.typeProduitVente"]})]}),((b=s.typeProduitVente)==null?void 0:b.nom)==="ensemble"?e.jsxs("div",{children:[e.jsx(o,{value:s.quantiteVente,id:"quantiteVente",name:"quantiteVente",label:"Quantité",className:"bg-white",fullWidth:!0,onChange:g,size:"small"}),e.jsx(n,{message:i.quantiteVente,className:"mt-2"})]}):null,e.jsxs("div",{className:"w-full",children:[e.jsx(o,{InputProps:{inputComponent:p,endAdornment:"GNF",inputProps:{value:s.prixVente,max:1e11,min:-1e12,name:"prixVente"}},className:"w-full",label:`Prix de vente ${((v=s.typeProduitVente)==null?void 0:v.nom)==="unité"?"unitaire":"total"}`,name:"prixVente",onChange:d,size:"small"}),e.jsx(n,{message:i.prixVente})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 border p-3 rounded",children:[e.jsx("div",{className:"md:col-span-2 font-bold text-orange-500",children:"Stock principal"}),e.jsxs("div",{className:"w-full",children:[e.jsx(o,{InputProps:{inputComponent:p,inputProps:{value:s.stockGlobal,max:1e11,min:-1e12,name:"stockGlobal"}},className:"w-full",label:"Stock global",name:"stockGlobal",onChange:d,size:"small"}),e.jsx(n,{message:i.stockGlobal})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(o,{InputProps:{inputComponent:p,inputProps:{value:s.stockCritique,max:1e11,min:-1e12,name:"stockCritique"}},className:"w-full",label:"Stock critique",name:"stockCritique",onChange:d,size:"small"}),e.jsx(n,{message:i.stockCritique})]})]}),e.jsx("div",{className:"w-full md:col-span-2 flex gap-2 justify-end",children:e.jsx(C,{variant:"contained",color:"success",type:"submit",size:"small",children:"Valider"})})]})})]})})})}export{ee as default};
