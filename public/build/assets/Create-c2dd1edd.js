import{W as k,j as e}from"./app-80aef6d5.js";import"./Dropdown-7e91de2b.js";import{I as h}from"./InputError-be802d9f.js";import{P as y,S as p}from"./PanelLayout-a81f80b5.js";import{T as g}from"./TextField-f4478316.js";import{C as B}from"./Checkbox-b8c9b3ff.js";import{B as S}from"./Button-1a27d212.js";import"./transition-c702c485.js";import"./createSvgIcon-f9f11e70.js";import"./index-bfd76f8c.js";import"./SwitchBase-5ee4a60b.js";function q({auth:d,error:l,errors:n,success:a,permissions:u,total:j,actif:f,inactif:v}){const{data:i,setData:t,post:b,put:E,reset:N}=k({id:"",slug:"",name:"",libelle:"",permissions:[]}),o=s=>{s.target.type==="checkbox"?t(s.target.name,s.target.checked):t(s.target.name,s.target.value)},C=s=>{t("permissions",[...i.permissions.filter(r=>r.id!==s.target.name),{id:s.target.name,status:s.target.checked}])},c=()=>{b(route("role.store"),{onSuccess:()=>{N()}})};return e.jsxs(y,{auth:d,success:a,error:l,active:"role",breadcrumbs:[{text:"Role",href:route("role.index",d.user.id),active:!1},{text:"Création",href:route("role.create"),active:!0}],children:[e.jsxs("div",{className:"grid gap-2 w-full mb-20",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"w-full flex lg:hidden primaryBgColor p-1 font-bold text-white rounded",children:"Gestion des roles"})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 w-full",children:[e.jsxs("div",{className:"primaryBgColor text-white p-2 rounded",children:[e.jsx("div",{className:"text-3xl font-bold",children:j}),e.jsx("div",{children:"Role"})]}),e.jsxs("div",{className:"secondaryBgColor text-white p-2 rounded",children:[e.jsx("div",{className:"text-3xl font-bold",children:f}),e.jsx("div",{children:"Actifs"})]}),e.jsxs("div",{className:"bg-red-500 text-white p-2 rounded",children:[e.jsx("div",{className:"text-3xl font-bold",children:v}),e.jsx("div",{children:"Inactifs"})]})]}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"grid sm:grid-cols-2 grid-cols-1 bg-gray-50 gap-5 p-2 rounded",children:[e.jsxs("div",{children:[e.jsx(g,{value:i.name,autoFocus:!0,id:"name",name:"name",label:"Nom",className:"bg-white",fullWidth:!0,onChange:o}),e.jsx(h,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(g,{value:i.libelle,id:"libelle",name:"libelle",label:"Libellé",className:"bg-white",fullWidth:!0,onChange:o}),e.jsx(h,{message:n.libelle,className:"mt-2"})]})]}),e.jsxs("div",{className:"bg-white mt-10",children:[e.jsx("div",{className:"flex p-2 rounded font-bold text-xl",children:"Sélectionnez les permissions"}),e.jsx("div",{className:"flex gap-10 flex-wrap p-2 rounded",children:u.map((s,r)=>{var m;return e.jsxs("div",{className:"grip gap-5",children:[e.jsx("div",{className:"capitalize font-bold primaryColor",children:s.groupe}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(m=s.liste)==null?void 0:m.map((x,w)=>e.jsxs("span",{className:"rounded border px-1",children:[e.jsx(B,{onClick:C,name:x.id+""})," ",x.libelle]},w))})]},r)})})]}),e.jsx("div",{className:"mt-5",children:e.jsx(S,{variant:"contained",color:"success",onClick:c,children:"Enregistrer"})})]})]}),a&&e.jsx(p,{success:a}),l&&e.jsx(p,{error:l})]})}export{q as default};
