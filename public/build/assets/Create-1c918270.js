import{W as b,j as e,y as j}from"./app-ef847769.js";import{I as a}from"./InputError-101e4114.js";import{P as f}from"./PanelLayout-f3b1b528.js";/* empty css            */import r from"./NumberFormatCustomUtils-99ba5477.js";import{B as p}from"./Button-5cd339f2.js";import{A as v}from"./ArrowBack-609c6f32.js";import{m as N}from"./motion-af0b5e75.js";import{T as o,a as C}from"./TextField-239b9d80.js";import{A as k}from"./Autocomplete-e3bbac74.js";import"./createSvgIcon-1d15f18d.js";import"./index-63345e99.js";import"./Dropdown-acf677e6.js";import"./transition-07c41afc.js";import"./Popper-fafd03d0.js";import"./Chip-7ba2869a.js";function x(t){var m;const u=(m=t==null?void 0:t.toString())==null?void 0:m.replace(/\s/g,"").replace(/,/,".");return parseFloat(u)}function J({auth:t,typeProduits:u,categories:m,fournisseurs:w,devises:P,uniteMesures:y,errors:i,success:A,error:q,referentiels:E}){const{data:n,setData:d,post:h,processing:I}=b({nom:"",description:"",stockGlobal:"",stockCritique:"",seuilMaximal:"",prixAchat:"",prixVente:"",quantiteEnsemble:"",prixEnsemble:"",categorie:null,fournisseurPrincipal:null,uniteMesure:null,devise:null}),l=s=>{s.target.type==="checkbox"?d(s.target.name,s.target.checked):d(s.target.name,s.target.value)};function g(s){s.preventDefault(),h(route("admin.stock.produit.store",t.user.id),{...n,quantiteAchat:x(n.quantiteAchat),quantiteVente:x(n.quantiteVente)},{preserveScroll:!0})}return e.jsx(f,{auth:t,active:"stock",sousActive:"produit",breadcrumbs:[{text:"Produit",href:route("admin.stock.produit.index",t.user.id),active:!1},{text:"Création",href:route("admin.stock.produit.create",[t.user.id]),active:!0}],children:e.jsx("div",{children:e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"p-4 bg-white rounded mb-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"bg-black w-fit p-2 rounded text-xl font-bold text-white",children:e.jsx("h2",{children:"Nouveau produit"})}),e.jsx(p,{variant:"outlined",startIcon:e.jsx(v,{}),onClick:()=>j.get(route("admin.stock.produit.index",t.user.id)),children:"Retour à la liste"})]})}),e.jsx(N.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,type:"spring"},style:{width:"100%"},children:e.jsxs("form",{onSubmit:g,className:"w-full space-y-5 gap-5 rounded bg-white p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 border p-3 rounded",children:[e.jsx("div",{className:"md:col-span-2 text-orange-500 font-bold",children:"Infos de base"}),e.jsxs("div",{children:[e.jsx(o,{value:n.nom,autoFocus:!0,id:"nom",name:"nom",label:"Nom",className:"bg-white",fullWidth:!0,onChange:l,size:"small"}),e.jsx(a,{message:i.nom,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(k,{className:"w-full",onChange:(s,c)=>d("categorie",c),disablePortal:!0,options:m,getOptionLabel:s=>s.libelle,isOptionEqualToValue:(s,c)=>s.id===c.id,renderInput:s=>e.jsx(o,{fullWidth:!0,...s,placeholder:"Categorie de produit",label:s.libelle,size:"small"})}),e.jsx(a,{message:i["data.categorie"]})]}),e.jsxs("div",{className:"md:col-span-2 mt-8",children:[e.jsx(C,{className:"w-full",name:"description",placeholder:"Description",style:{height:100},onChange:l,autoComplete:"description"}),e.jsx(a,{message:i["data.description"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 border p-3 rounded",children:[e.jsx("div",{className:"md:col-span-2 font-bold text-orange-500",children:"Options d'achat et vente par défaut"}),e.jsxs("div",{className:"",children:[e.jsx(o,{InputProps:{inputComponent:r,endAdornment:"GNF",inputProps:{name:"prixAchat",value:n.prixAchat,max:1e11,min:0}},className:"w-full",label:"Prix unitaire d'achat",name:"prixAchat",onChange:l,size:"small"}),e.jsx(a,{message:i.prixAchat})]}),e.jsxs("div",{className:"",children:[e.jsx(o,{InputProps:{inputComponent:r,endAdornment:"GNF",inputProps:{name:"prixVente",value:n.prixVente,max:1e11,min:0}},className:"w-full",label:"Prix unitaire de vente",name:"prixVente",onChange:l,size:"small"}),e.jsx(a,{message:i.prixVente})]}),e.jsxs("div",{className:"",children:[e.jsx(o,{InputProps:{inputComponent:r,inputProps:{name:"quantiteEnsemble",value:n.quantiteEnsemble,max:1e11,min:0}},className:"w-full",label:"Quantité par ensemble",name:"quantiteEnsemble",onChange:l,size:"small"}),e.jsx(a,{message:i.quantiteEnsemble})]}),e.jsxs("div",{className:"",children:[e.jsx(o,{InputProps:{inputComponent:r,endAdornment:"GNF",inputProps:{name:"prixEnsemble",value:n.prixEnsemble,max:1e11,min:0}},className:"w-full",label:"Prix par ensemble",name:"prixEnsemble",onChange:l,size:"small"}),e.jsx(a,{message:i.prixEnsemble})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 border p-3 rounded",children:[e.jsx("div",{className:"md:col-span-2 font-bold text-orange-500",children:"Stock principal"}),e.jsxs("div",{className:"w-full",children:[e.jsx(o,{InputProps:{inputComponent:r,inputProps:{max:1e11,min:0,name:"stockGlobal"}},className:"w-full",label:"Stock global",name:"stockGlobal",onChange:l,size:"small"}),e.jsx(a,{message:i.stockGlobal})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(o,{InputProps:{inputComponent:r,inputProps:{max:1e11,min:0,name:"stockCritique"}},className:"w-full",label:"Stock critique",name:"stockCritique",onChange:l,size:"small"}),e.jsx(a,{message:i.stockCritique})]})]}),e.jsx("div",{className:"w-full md:col-span-2 flex gap-2 justify-end",children:e.jsx(p,{variant:"contained",color:"success",type:"submit",size:"small",children:"Valider"})})]})})]})})})}export{J as default};
