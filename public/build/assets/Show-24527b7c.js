import{r as c,j as s,y as i}from"./app-4edf48e5.js";import{u as n,M as r}from"./index.esm-9dae7fe5.js";import{M as o}from"./index.esm-4bae7fd4.js";import{P as v,d as N}from"./PanelLayout-f2722d4d.js";import{f as l}from"./formatNumber-4d7c5d62.js";import{B as u}from"./Button-287e2751.js";import"./createSvgIcon-5bc31cb8.js";import"./index-17fa150b.js";import"./Cancel-a6a6eef9.js";import"./Edit-fc260d54.js";import"./TableRow-96be2280.js";import"./Popper-aabbbbc2.js";import"./TextField-552e66ea.js";import"./MenuItem-b79354fa.js";import"./DatePicker-b73dcf77.js";import"./DialogContent-8a1e29b1.js";import"./Chip-0001e9bb.js";import"./LastPage-76c05c1b.js";import"./SwitchBase-2ee5bbf3.js";import"./Checkbox-521167ff.js";import"./Stack-01e86631.js";import"./CircularProgress-210c747e.js";import"./DialogTitle-9058224f.js";import"./Switch-3b9ccd2c.js";import"./Autocomplete-296c4901.js";import"./Dropdown-4c3aabf3.js";import"./transition-92123e1c.js";const J=({auth:d,operation:e})=>{var a,m;console.log("Operation reçue:",e);const h=c.useMemo(()=>[{accessorKey:"produit.nom",header:"Produit"},{accessorKey:"quantiteAchat",header:"Quantité"},{accessorKey:"prixAchat",header:"Prix d'achat",Cell:({cell:t})=>l(t.getValue())+" GNF"},{accessorKey:"total",header:"Total",Cell:({row:t})=>l(t.original.quantiteAchat*t.original.prixAchat)+" GNF"}],[]),x=c.useMemo(()=>[{accessorKey:"motif.nom",header:"Motif"},{accessorKey:"montant",header:"Montant",Cell:({cell:t})=>l(t.getValue())+" GNF"}],[]),b=n({columns:h,data:(e==null?void 0:e.produits)||[],localization:o,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!0,initialState:{density:"compact",showColumnFilters:!1}}),f=n({columns:x,data:(e==null?void 0:e.depenses)||[],localization:o,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!0,initialState:{density:"compact",showColumnFilters:!1}}),g=()=>{i.get(route("admin.stock.mouvement.index",d.user.id))},j=()=>{i.get(route("admin.stock.mouvement.edit",[d.user.id,e.id]))};return s.jsx(v,{auth:d,active:"stock",sousActive:"mouvement",breadcrumbs:[{text:"Mouvement",href:route("admin.stock.mouvement.index",d.user.id),active:!1},{text:"Détail",href:route("admin.stock.mouvement.show",[d.user.id,e.id]),active:!0}],children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"p-5 bg-white rounded",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{className:"bg-black w-fit p-2 rounded text-xl font-bold text-white",children:s.jsx("h2",{children:"Détail du mouvement de stock"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(u,{variant:"contained",color:"primary",onClick:j,children:"Modifier"}),s.jsx(u,{variant:"outlined",color:"secondary",onClick:g,children:"Retour"})]})]}),s.jsxs("div",{className:"mt-5 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-100 p-4 rounded",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Date :"})," ",N(e==null?void 0:e.date).format("DD/MM/YYYY")]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Fournisseur :"})," ",((a=e==null?void 0:e.fournisseur)==null?void 0:a.nom)||"Non spécifié"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Type d'opération :"})," ",((m=e==null?void 0:e.typeOperation)==null?void 0:m.nom)||"Non spécifié"]}),(e==null?void 0:e.departementSource)&&s.jsxs("div",{children:[s.jsx("strong",{children:"Département source :"})," ",e.departementSource.nom]}),(e==null?void 0:e.departementDestination)&&s.jsxs("div",{children:[s.jsx("strong",{children:"Département destination :"})," ",e.departementDestination.nom]})]}),s.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[s.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-2",children:"Produits"}),s.jsx(r,{table:b}),e!=null&&e.totalCommande?s.jsx("div",{className:"mt-3 text-black font-bold bg-gray-200 p-2 rounded",children:"Total : "+l(e.totalCommande)+" GNF"}):""]}),(e==null?void 0:e.depenses)&&e.depenses.length>0&&s.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[s.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-2",children:"Dépenses supplémentaires"}),s.jsx(r,{table:f}),e!=null&&e.totalDepense?s.jsx("div",{className:"mt-3 text-black font-bold bg-gray-200 p-2 rounded",children:"Total Dépenses : "+l(e.totalDepense)+" GNF"}):""]}),s.jsxs("div",{className:"mt-4 p-3 bg-black text-white font-bold rounded w-fit",children:["Total général : ",l(((e==null?void 0:e.totalCommande)||0)+((e==null?void 0:e.totalDepense)||0))," GNF"]})]})]})})})};export{J as default};
